---
title: "【読書記録】プログラムはなぜ動くのか" # 記事のタイトル
emoji: "✏️" # アイキャッチとして使われる絵文字（1 文字だけ）
type: "tech"
topics: ["コンピュータ", "ハードウェア", "ソフトウェア"]
published: false # 公開設定（false にすると下書き）
---

「プログラムはなぜ動くのか 知っておきたいプログラミングの基礎知識 第 3 版」（日経 BP 社）を読んだので、その内容を忘れないように整理してみた。

## どういう本か

この本は文字通り「プログラムがなぜ動くのか」を丁寧に説明していく本である。

ざっくり言えば、コンピュータ上でプログラムが動作する原理を、コンピュータの構成要素であるハードウェア、ソフトウェアそれぞれの観点から説明する本である。

### 目次

目次は以下の通り。

全体の流れとしては、CPU がどんなものかを学んだ後に...

- 第 1 章 プログラマにとって CPU とはなにか
- 第 2 章 データを 2 進数でイメージしよう
- 第 3 章 コンピュータが小数点数の計算を間違える理由
- 第 4 章 四角いメモリーを丸く使う
- 第 5 章 メモリーとディスクの親密な関係
- 第 6 章 自分でデータを圧縮してみよう
- 第 7 章 プログラムはどんな環境で動くのか
- 第 8 章 ソース・ファイルから実行可能ファイルができるまで
- 第 9 章 OS とアプリケーションの関係
- 第 10 章 アセンブリ言語からプログラムの本当の姿を知る
- 第 11 章 ハードウエアを制御する方法
- 第 12 章 コンピュータに「学習」をさせるには

### キーワード

目次とそれに関連するキーワードをひたすら列挙してみた。

### どんな人が対象読者となりうるか

私の主観なので参考程度に。

まず、この本はプログラムを全く書いたことがない人には、無理とは言わないが少し難しいと思う。読みやすい本ではあることは間違いないが、そもそも「プログラムを実行する」ことのイメージを持っていないと、プログラムの動作原理が説明されたときにその内容がすっと入ってきにくいと思われるからだ。かと言って高度な知識は必要なく、基本的なプログラムの構文、例えば、変数の定義や if 文や for 文などの制御構文、関数などを使って簡単なプログラムを書いたことがある人ならば問題なく読み進めていける思う。

そもそも論として、プログラムを書いたことがなければ「プログラムはなぜ動くのか」ということに思いを馳せること自体がなく、この本にたどり着くことがないかもしれないが。

## この本を読もうと思ったきっかけ

低レイヤの技術の勉強の取っ掛かりとして読もうと思った。CPU や OS、コンパイラなどの低レイヤの技術の原理をさらっと勉強したかったときにちょうどこの本が目に入った。

## 読んだ感想

全体的に良い本だった。

今の自分のレベルに合っている本だった。

---

## 本を読み進める前に：コンピュータの構成要素

まず、本を読み進めていく前に、コンピュータの構成要素を調べてそれを整理してみた。コンピュータが何によって成り立っているか、その全体像を把握した上で実際に書籍の内容に入っていく。

当たり前のことかもしれないが、コンピュータの動作原理を学ぶに当たり第一に意識すべきことは、ハードウェアとソフトウェアの違いである。ハードウェアは主に [5 大装置](https://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AE5%E5%A4%A7%E8%A3%85%E7%BD%AE)で構成される。ソフトウェアはシステムソフトウェアとアプリケーションソフトウェアに分類される。「プログラム」はソフトウェアである。

この段階では全てを理解する必要はなく、「こういうものがあるんだ」というコンピュータの全体像をざっくり掴めれば良い。

- **ハードウェア**
  - （バス）
  - CPU（中央処理装置、マイクロプロセッサ、プロセッサ）
    - 演算装置
    - 制御装置
    - レジスタ
    - クロック
  - （GPU の立ち位置は？）
  - 記憶装置
    - 主記憶装置（メモリ）
    - 補助記憶装置
      - HDD、SSD、USB メモリ、SD カード、フロッピーディスク
  - 入力装置
    - キーボード、マウス、スキャナ、マイク、タッチスクリーン
  - 出力装置
    - ディスプレイ、プリンタ、スピーカー
- **ソフトウェア**
  - システムソフトウェア
    - オペレーティングシステム（OS）
    - 言語処理系（コンパイラ、インタプリタ、仮想機械）
    - ミドルウェア
      - TCP/IP ソフトウェア（ネットワークプロトコル通信プログラム）
      - DBMS（MySQL、PostgreSQL、MongoDB など）
  - アプリケーションソフトウェア
    - ネイティブアプリ
      - ブラウザ（Chrome、Firefox、Safari など）、Word、Excel、PowerPoint
    - Web アプリ
      - ブラウザ上で動作するアプリ
    - プログラムを書くためのツール：IDE（IntelliJ IDEA、Visual Studio など）、エディタ（Vim、Emacs、Spacemacs、Visual Studio Code、Atom、Sublime Text など）

## 各章のまとめ

ここからは書籍の各章で学んだことの整理していく。

整理と言っても読書メモ程度であり、体系立ててまとめるとかそういったことはしていないので注意。

### 第 1 章 プログラマにとって CPU とはなにか

### 第 2 章 データを 2 進数でイメージしよう

### 第 3 章 コンピュータが小数点数の計算を間違える理由

### 第 4 章 四角いメモリーを丸く使う

### 第 5 章 メモリーとディスクの親密な関係

### 第 6 章 自分でデータを圧縮してみよう

### 第 7 章 プログラムはどんな環境で動くのか

### 第 8 章 ソース・ファイルから実行可能ファイルができるまで

### 第 9 章 OS とアプリケーションの関係

### 第 10 章 アセンブリ言語からプログラムの本当の姿を知る

### 第 11 章 ハードウエアを制御する方法

### 第 12 章 コンピュータに「学習」をさせるには

機械学習の初歩のハンズオン。正直蛇足感は否めなかった。「プログラム」の実例として、現在流行している技術である機械学習を載せたのだと思うが、「プログラムはなぜ動くのか」という書籍のテーマを鑑みると、一貫性を損なっているように思う。著者の〇〇という気持ちは分かるが...

## Q & A

書籍の内容をちゃんと理解しているかを確かめるための問題を自分で考え、その答えをまとめた。

- **第 1 章 プログラマにとって CPU とはなにか**
  - Q. CPU と機械語の関係を述べよ。
  - Q. 「32 ビット CPU」の「32 ビット」とは何を意味するか。
  - Q. 「CPU のアーキテクチャ」とはなにか？「x86」とはなにか。
  - Q. プログラムが実行される手順を CPU、各種レジスタの名前、メモリという言葉を用いて説明せよ。
    - A.
- **第 2 章 データを 2 進数でイメージしよう**
  - Q. 位取り、基数とはなにか。
    - A.
  - Q. 「2 の補数」とはなにか。
  - Q. 「2 の補数」の求め方
    - A. ビット反転して 1 を足す
  - Q. シフト演算には論理シフト、算術シフトがあるが、両者の違い、意図するところを述べよ。
- **第 3 章 コンピュータが小数点数の計算を間違える理由**
  - Q. `1101.0011` という小数で表された 2 進数を 10 進数に変換せよ。
  - Q. 浮動小数点数について、符号、仮数、基数、指数という言葉を用いて説明せよ。
  - Q. 整数と浮動小数点数の違いについて論じよ。
  - Q. 浮動小数点数の計算には誤差が生じる可能性がある。それはなぜか説明し、例示せよ。
  - Q. 単精度浮動小数点数型、倍精度浮動小数点数型の違いを説明せよ。
- **第 4 章 四角いメモリーを丸く使う**
  - Q. 「ポインタ」とはなにかを説明せよ。
  - Q.
  - Q.
  - Q.
- **第 5 章 メモリーとディスクの親密な関係**
- **第 6 章 自分でデータを圧縮してみよう**
- **第 7 章 プログラムはどんな環境で動くのか**
- **第 8 章 ソース・ファイルから実行可能ファイルができるまで**
  - Q. ある種類の CPU 上でコンパイルされたプログラムが、他の種類の CPU 上で動かないのはなぜか。
- **第 9 章 OS とアプリケーションの関係**
- **第 10 章 アセンブリ言語からプログラムの本当の姿を知る**
- **第 11 章 ハードウエアを制御する方法**
- **第 12 章 コンピュータに「学習」をさせるには**
- まとめ
  - Q. プログラム作成からプログラムの実行、そしてその実行結果をディスプレイに表示させるまでの流れを、コンピュータの構成要素を用いて説明せよ。
